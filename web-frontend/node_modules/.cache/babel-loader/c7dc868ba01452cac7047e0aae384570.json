{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSortData = getSortData;\nexports[\"default\"] = useFilterSorter;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CaretDownOutlined = _interopRequireDefault(require(\"@ant-design/icons/CaretDownOutlined\"));\n\nvar _CaretUpOutlined = _interopRequireDefault(require(\"@ant-design/icons/CaretUpOutlined\"));\n\nvar _tooltip = _interopRequireDefault(require(\"../../tooltip\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar ASCEND = 'ascend';\nvar DESCEND = 'descend';\n\nfunction getMultiplePriority(column) {\n  if (_typeof(column.sorter) === 'object' && typeof column.sorter.multiple === 'number') {\n    return column.sorter.multiple;\n  }\n\n  return false;\n}\n\nfunction getSortFunction(sorter) {\n  if (typeof sorter === 'function') {\n    return sorter;\n  }\n\n  if (sorter && _typeof(sorter) === 'object' && sorter.compare) {\n    return sorter.compare;\n  }\n\n  return false;\n}\n\nfunction nextSortDirection(sortDirections, current) {\n  if (!current) {\n    return sortDirections[0];\n  }\n\n  return sortDirections[sortDirections.indexOf(current) + 1];\n}\n\nfunction collectSortStates(columns, init, pos) {\n  var sortStates = [];\n\n  function pushState(column, columnPos) {\n    sortStates.push({\n      column: column,\n      key: (0, _util.getColumnKey)(column, columnPos),\n      multiplePriority: getMultiplePriority(column),\n      sortOrder: column.sortOrder\n    });\n  }\n\n  (columns || []).forEach(function (column, index) {\n    var columnPos = (0, _util.getColumnPos)(index, pos);\n\n    if (column.children) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      }\n\n      sortStates = [].concat(_toConsumableArray(sortStates), _toConsumableArray(collectSortStates(column.children, init, columnPos)));\n    } else if (column.sorter) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      } else if (init && column.defaultSortOrder) {\n        // Default sorter\n        sortStates.push({\n          column: column,\n          key: (0, _util.getColumnKey)(column, columnPos),\n          multiplePriority: getMultiplePriority(column),\n          sortOrder: column.defaultSortOrder\n        });\n      }\n    }\n  });\n  return sortStates;\n}\n\nfunction injectSorter(prefixCls, columns, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, pos) {\n  return (columns || []).map(function (column, index) {\n    var columnPos = (0, _util.getColumnPos)(index, pos);\n    var newColumn = column;\n\n    if (newColumn.sorter) {\n      var sortDirections = newColumn.sortDirections || defaultSortDirections;\n      var showSorterTooltip = newColumn.showSorterTooltip === undefined ? tableShowSorterTooltip : newColumn.showSorterTooltip;\n      var columnKey = (0, _util.getColumnKey)(newColumn, columnPos);\n      var sorterState = sorterSates.find(function (_ref) {\n        var key = _ref.key;\n        return key === columnKey;\n      });\n      var sorterOrder = sorterState ? sorterState.sortOrder : null;\n      var nextSortOrder = nextSortDirection(sortDirections, sorterOrder);\n      var upNode = sortDirections.includes(ASCEND) && /*#__PURE__*/React.createElement(_CaretUpOutlined[\"default\"], {\n        className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-column-sorter-up\"), {\n          active: sorterOrder === ASCEND\n        })\n      });\n      var downNode = sortDirections.includes(DESCEND) && /*#__PURE__*/React.createElement(_CaretDownOutlined[\"default\"], {\n        className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-column-sorter-down\"), {\n          active: sorterOrder === DESCEND\n        })\n      });\n\n      var _ref2 = tableLocale || {},\n          cancelSort = _ref2.cancelSort,\n          triggerAsc = _ref2.triggerAsc,\n          triggerDesc = _ref2.triggerDesc;\n\n      var sortTip = cancelSort;\n\n      if (nextSortOrder === DESCEND) {\n        sortTip = triggerDesc;\n      } else if (nextSortOrder === ASCEND) {\n        sortTip = triggerAsc;\n      }\n\n      newColumn = _extends(_extends({}, newColumn), {\n        className: (0, _classnames[\"default\"])(newColumn.className, _defineProperty({}, \"\".concat(prefixCls, \"-column-sort\"), sorterOrder)),\n        title: function title(renderProps) {\n          var renderSortTitle = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-column-sorters\")\n          }, /*#__PURE__*/React.createElement(\"span\", null, (0, _util.renderColumnTitle)(column.title, renderProps)), /*#__PURE__*/React.createElement(\"span\", {\n            className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-column-sorter\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-sorter-full\"), upNode && downNode))\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter-inner\")\n          }, upNode, downNode)));\n          return showSorterTooltip ? /*#__PURE__*/React.createElement(_tooltip[\"default\"], {\n            title: sortTip\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-column-sorters-with-tooltip\")\n          }, renderSortTitle)) : renderSortTitle;\n        },\n        onHeaderCell: function onHeaderCell(col) {\n          var cell = column.onHeaderCell && column.onHeaderCell(col) || {};\n          var originOnClick = cell.onClick;\n\n          cell.onClick = function (event) {\n            triggerSorter({\n              column: column,\n              key: columnKey,\n              sortOrder: nextSortOrder,\n              multiplePriority: getMultiplePriority(column)\n            });\n\n            if (originOnClick) {\n              originOnClick(event);\n            }\n          };\n\n          cell.className = (0, _classnames[\"default\"])(cell.className, \"\".concat(prefixCls, \"-column-has-sorters\"));\n          return cell;\n        }\n      });\n    }\n\n    if ('children' in newColumn) {\n      newColumn = _extends(_extends({}, newColumn), {\n        children: injectSorter(prefixCls, newColumn.children, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, columnPos)\n      });\n    }\n\n    return newColumn;\n  });\n}\n\nfunction stateToInfo(sorterStates) {\n  var column = sorterStates.column,\n      sortOrder = sorterStates.sortOrder;\n  return {\n    column: column,\n    order: sortOrder,\n    field: column.dataIndex,\n    columnKey: column.key\n  };\n}\n\nfunction generateSorterInfo(sorterStates) {\n  var list = sorterStates.filter(function (_ref3) {\n    var sortOrder = _ref3.sortOrder;\n    return sortOrder;\n  }).map(stateToInfo); // =========== Legacy compatible support ===========\n  // https://github.com/ant-design/ant-design/pull/19226\n\n  if (list.length === 0 && sorterStates.length) {\n    return _extends(_extends({}, stateToInfo(sorterStates[0])), {\n      column: undefined\n    });\n  }\n\n  if (list.length <= 1) {\n    return list[0] || {};\n  }\n\n  return list;\n}\n\nfunction getSortData(data, sortStates, childrenColumnName) {\n  var innerSorterStates = sortStates.slice().sort(function (a, b) {\n    return b.multiplePriority - a.multiplePriority;\n  });\n  var cloneData = data.slice();\n  var runningSorters = innerSorterStates.filter(function (_ref4) {\n    var sorter = _ref4.column.sorter,\n        sortOrder = _ref4.sortOrder;\n    return getSortFunction(sorter) && sortOrder;\n  }); // Skip if no sorter needed\n\n  if (!runningSorters.length) {\n    return cloneData;\n  }\n\n  return cloneData.sort(function (record1, record2) {\n    for (var i = 0; i < runningSorters.length; i += 1) {\n      var sorterState = runningSorters[i];\n      var sorter = sorterState.column.sorter,\n          sortOrder = sorterState.sortOrder;\n      var compareFn = getSortFunction(sorter);\n\n      if (compareFn && sortOrder) {\n        var compareResult = compareFn(record1, record2, sortOrder);\n\n        if (compareResult !== 0) {\n          return sortOrder === ASCEND ? compareResult : -compareResult;\n        }\n      }\n    }\n\n    return 0;\n  }).map(function (record) {\n    var subRecords = record[childrenColumnName];\n\n    if (subRecords) {\n      return _extends(_extends({}, record), _defineProperty({}, childrenColumnName, getSortData(subRecords, sortStates, childrenColumnName)));\n    }\n\n    return record;\n  });\n}\n\nfunction useFilterSorter(_ref5) {\n  var prefixCls = _ref5.prefixCls,\n      mergedColumns = _ref5.mergedColumns,\n      onSorterChange = _ref5.onSorterChange,\n      sortDirections = _ref5.sortDirections,\n      tableLocale = _ref5.tableLocale,\n      showSorterTooltip = _ref5.showSorterTooltip;\n\n  var _React$useState = React.useState(collectSortStates(mergedColumns, true)),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sortStates = _React$useState2[0],\n      setSortStates = _React$useState2[1];\n\n  var mergedSorterStates = React.useMemo(function () {\n    var validate = true;\n    var collectedStates = collectSortStates(mergedColumns, false); // Return if not controlled\n\n    if (!collectedStates.length) {\n      return sortStates;\n    }\n\n    var validateStates = [];\n\n    function patchStates(state) {\n      if (validate) {\n        validateStates.push(state);\n      } else {\n        validateStates.push(_extends(_extends({}, state), {\n          sortOrder: null\n        }));\n      }\n    }\n\n    var multipleMode = null;\n    collectedStates.forEach(function (state) {\n      if (multipleMode === null) {\n        patchStates(state);\n\n        if (state.sortOrder) {\n          if (state.multiplePriority === false) {\n            validate = false;\n          } else {\n            multipleMode = true;\n          }\n        }\n      } else if (multipleMode && state.multiplePriority !== false) {\n        patchStates(state);\n      } else {\n        validate = false;\n        patchStates(state);\n      }\n    });\n    return validateStates;\n  }, [mergedColumns, sortStates]); // Get render columns title required props\n\n  var columnTitleSorterProps = React.useMemo(function () {\n    var sortColumns = mergedSorterStates.map(function (_ref6) {\n      var column = _ref6.column,\n          sortOrder = _ref6.sortOrder;\n      return {\n        column: column,\n        order: sortOrder\n      };\n    });\n    return {\n      sortColumns: sortColumns,\n      // Legacy\n      sortColumn: sortColumns[0] && sortColumns[0].column,\n      sortOrder: sortColumns[0] && sortColumns[0].order\n    };\n  }, [mergedSorterStates]);\n\n  function triggerSorter(sortState) {\n    var newSorterStates;\n\n    if (sortState.multiplePriority === false || !mergedSorterStates.length || mergedSorterStates[0].multiplePriority === false) {\n      newSorterStates = [sortState];\n    } else {\n      newSorterStates = [].concat(_toConsumableArray(mergedSorterStates.filter(function (_ref7) {\n        var key = _ref7.key;\n        return key !== sortState.key;\n      })), [sortState]);\n    }\n\n    setSortStates(newSorterStates);\n    onSorterChange(generateSorterInfo(newSorterStates), newSorterStates);\n  }\n\n  var transformColumns = function transformColumns(innerColumns) {\n    return injectSorter(prefixCls, innerColumns, mergedSorterStates, triggerSorter, sortDirections, tableLocale, showSorterTooltip);\n  };\n\n  var getSorters = function getSorters() {\n    return generateSorterInfo(mergedSorterStates);\n  };\n\n  return [transformColumns, mergedSorterStates, columnTitleSorterProps, getSorters];\n}","map":{"version":3,"sources":["/Users/lundypang/OneDrive/Self-Learning shit/orbital_2020/web-frontend/node_modules/antd/lib/table/hooks/useSorter.js"],"names":["Object","defineProperty","exports","value","getSortData","useFilterSorter","React","_interopRequireWildcard","require","_classnames","_interopRequireDefault","_CaretDownOutlined","_CaretUpOutlined","_tooltip","_util","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","_typeof","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","Symbol","iterator","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","length","err","Array","isArray","_defineProperty","enumerable","configurable","writable","_extends","assign","target","arguments","source","apply","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","n","toString","slice","constructor","name","from","test","iter","len","arr2","ASCEND","DESCEND","getMultiplePriority","column","sorter","multiple","getSortFunction","compare","nextSortDirection","sortDirections","current","indexOf","collectSortStates","columns","init","pos","sortStates","pushState","columnPos","getColumnKey","multiplePriority","sortOrder","forEach","index","getColumnPos","children","concat","defaultSortOrder","injectSorter","prefixCls","sorterSates","triggerSorter","defaultSortDirections","tableLocale","tableShowSorterTooltip","map","newColumn","showSorterTooltip","columnKey","sorterState","find","_ref","sorterOrder","nextSortOrder","upNode","includes","createElement","className","active","downNode","_ref2","cancelSort","triggerAsc","triggerDesc","sortTip","title","renderProps","renderSortTitle","renderColumnTitle","onHeaderCell","col","cell","originOnClick","onClick","event","stateToInfo","sorterStates","order","field","dataIndex","generateSorterInfo","list","filter","_ref3","data","childrenColumnName","innerSorterStates","sort","a","b","cloneData","runningSorters","_ref4","record1","record2","compareFn","compareResult","record","subRecords","_ref5","mergedColumns","onSorterChange","_React$useState","useState","_React$useState2","setSortStates","mergedSorterStates","useMemo","validate","collectedStates","validateStates","patchStates","state","multipleMode","columnTitleSorterProps","sortColumns","_ref6","sortColumn","sortState","newSorterStates","_ref7","transformColumns","innerColumns","getSorters"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getSortData = getSortData;\nexports[\"default\"] = useFilterSorter;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _CaretDownOutlined = _interopRequireDefault(require(\"@ant-design/icons/CaretDownOutlined\"));\n\nvar _CaretUpOutlined = _interopRequireDefault(require(\"@ant-design/icons/CaretUpOutlined\"));\n\nvar _tooltip = _interopRequireDefault(require(\"../../tooltip\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nvar ASCEND = 'ascend';\nvar DESCEND = 'descend';\n\nfunction getMultiplePriority(column) {\n  if (_typeof(column.sorter) === 'object' && typeof column.sorter.multiple === 'number') {\n    return column.sorter.multiple;\n  }\n\n  return false;\n}\n\nfunction getSortFunction(sorter) {\n  if (typeof sorter === 'function') {\n    return sorter;\n  }\n\n  if (sorter && _typeof(sorter) === 'object' && sorter.compare) {\n    return sorter.compare;\n  }\n\n  return false;\n}\n\nfunction nextSortDirection(sortDirections, current) {\n  if (!current) {\n    return sortDirections[0];\n  }\n\n  return sortDirections[sortDirections.indexOf(current) + 1];\n}\n\nfunction collectSortStates(columns, init, pos) {\n  var sortStates = [];\n\n  function pushState(column, columnPos) {\n    sortStates.push({\n      column: column,\n      key: (0, _util.getColumnKey)(column, columnPos),\n      multiplePriority: getMultiplePriority(column),\n      sortOrder: column.sortOrder\n    });\n  }\n\n  (columns || []).forEach(function (column, index) {\n    var columnPos = (0, _util.getColumnPos)(index, pos);\n\n    if (column.children) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      }\n\n      sortStates = [].concat(_toConsumableArray(sortStates), _toConsumableArray(collectSortStates(column.children, init, columnPos)));\n    } else if (column.sorter) {\n      if ('sortOrder' in column) {\n        // Controlled\n        pushState(column, columnPos);\n      } else if (init && column.defaultSortOrder) {\n        // Default sorter\n        sortStates.push({\n          column: column,\n          key: (0, _util.getColumnKey)(column, columnPos),\n          multiplePriority: getMultiplePriority(column),\n          sortOrder: column.defaultSortOrder\n        });\n      }\n    }\n  });\n  return sortStates;\n}\n\nfunction injectSorter(prefixCls, columns, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, pos) {\n  return (columns || []).map(function (column, index) {\n    var columnPos = (0, _util.getColumnPos)(index, pos);\n    var newColumn = column;\n\n    if (newColumn.sorter) {\n      var sortDirections = newColumn.sortDirections || defaultSortDirections;\n      var showSorterTooltip = newColumn.showSorterTooltip === undefined ? tableShowSorterTooltip : newColumn.showSorterTooltip;\n      var columnKey = (0, _util.getColumnKey)(newColumn, columnPos);\n      var sorterState = sorterSates.find(function (_ref) {\n        var key = _ref.key;\n        return key === columnKey;\n      });\n      var sorterOrder = sorterState ? sorterState.sortOrder : null;\n      var nextSortOrder = nextSortDirection(sortDirections, sorterOrder);\n      var upNode = sortDirections.includes(ASCEND) && /*#__PURE__*/React.createElement(_CaretUpOutlined[\"default\"], {\n        className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-column-sorter-up\"), {\n          active: sorterOrder === ASCEND\n        })\n      });\n      var downNode = sortDirections.includes(DESCEND) && /*#__PURE__*/React.createElement(_CaretDownOutlined[\"default\"], {\n        className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-column-sorter-down\"), {\n          active: sorterOrder === DESCEND\n        })\n      });\n\n      var _ref2 = tableLocale || {},\n          cancelSort = _ref2.cancelSort,\n          triggerAsc = _ref2.triggerAsc,\n          triggerDesc = _ref2.triggerDesc;\n\n      var sortTip = cancelSort;\n\n      if (nextSortOrder === DESCEND) {\n        sortTip = triggerDesc;\n      } else if (nextSortOrder === ASCEND) {\n        sortTip = triggerAsc;\n      }\n\n      newColumn = _extends(_extends({}, newColumn), {\n        className: (0, _classnames[\"default\"])(newColumn.className, _defineProperty({}, \"\".concat(prefixCls, \"-column-sort\"), sorterOrder)),\n        title: function title(renderProps) {\n          var renderSortTitle = /*#__PURE__*/React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-column-sorters\")\n          }, /*#__PURE__*/React.createElement(\"span\", null, (0, _util.renderColumnTitle)(column.title, renderProps)), /*#__PURE__*/React.createElement(\"span\", {\n            className: (0, _classnames[\"default\"])(\"\".concat(prefixCls, \"-column-sorter\"), _defineProperty({}, \"\".concat(prefixCls, \"-column-sorter-full\"), upNode && downNode))\n          }, /*#__PURE__*/React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-column-sorter-inner\")\n          }, upNode, downNode)));\n          return showSorterTooltip ? /*#__PURE__*/React.createElement(_tooltip[\"default\"], {\n            title: sortTip\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"\".concat(prefixCls, \"-column-sorters-with-tooltip\")\n          }, renderSortTitle)) : renderSortTitle;\n        },\n        onHeaderCell: function onHeaderCell(col) {\n          var cell = column.onHeaderCell && column.onHeaderCell(col) || {};\n          var originOnClick = cell.onClick;\n\n          cell.onClick = function (event) {\n            triggerSorter({\n              column: column,\n              key: columnKey,\n              sortOrder: nextSortOrder,\n              multiplePriority: getMultiplePriority(column)\n            });\n\n            if (originOnClick) {\n              originOnClick(event);\n            }\n          };\n\n          cell.className = (0, _classnames[\"default\"])(cell.className, \"\".concat(prefixCls, \"-column-has-sorters\"));\n          return cell;\n        }\n      });\n    }\n\n    if ('children' in newColumn) {\n      newColumn = _extends(_extends({}, newColumn), {\n        children: injectSorter(prefixCls, newColumn.children, sorterSates, triggerSorter, defaultSortDirections, tableLocale, tableShowSorterTooltip, columnPos)\n      });\n    }\n\n    return newColumn;\n  });\n}\n\nfunction stateToInfo(sorterStates) {\n  var column = sorterStates.column,\n      sortOrder = sorterStates.sortOrder;\n  return {\n    column: column,\n    order: sortOrder,\n    field: column.dataIndex,\n    columnKey: column.key\n  };\n}\n\nfunction generateSorterInfo(sorterStates) {\n  var list = sorterStates.filter(function (_ref3) {\n    var sortOrder = _ref3.sortOrder;\n    return sortOrder;\n  }).map(stateToInfo); // =========== Legacy compatible support ===========\n  // https://github.com/ant-design/ant-design/pull/19226\n\n  if (list.length === 0 && sorterStates.length) {\n    return _extends(_extends({}, stateToInfo(sorterStates[0])), {\n      column: undefined\n    });\n  }\n\n  if (list.length <= 1) {\n    return list[0] || {};\n  }\n\n  return list;\n}\n\nfunction getSortData(data, sortStates, childrenColumnName) {\n  var innerSorterStates = sortStates.slice().sort(function (a, b) {\n    return b.multiplePriority - a.multiplePriority;\n  });\n  var cloneData = data.slice();\n  var runningSorters = innerSorterStates.filter(function (_ref4) {\n    var sorter = _ref4.column.sorter,\n        sortOrder = _ref4.sortOrder;\n    return getSortFunction(sorter) && sortOrder;\n  }); // Skip if no sorter needed\n\n  if (!runningSorters.length) {\n    return cloneData;\n  }\n\n  return cloneData.sort(function (record1, record2) {\n    for (var i = 0; i < runningSorters.length; i += 1) {\n      var sorterState = runningSorters[i];\n      var sorter = sorterState.column.sorter,\n          sortOrder = sorterState.sortOrder;\n      var compareFn = getSortFunction(sorter);\n\n      if (compareFn && sortOrder) {\n        var compareResult = compareFn(record1, record2, sortOrder);\n\n        if (compareResult !== 0) {\n          return sortOrder === ASCEND ? compareResult : -compareResult;\n        }\n      }\n    }\n\n    return 0;\n  }).map(function (record) {\n    var subRecords = record[childrenColumnName];\n\n    if (subRecords) {\n      return _extends(_extends({}, record), _defineProperty({}, childrenColumnName, getSortData(subRecords, sortStates, childrenColumnName)));\n    }\n\n    return record;\n  });\n}\n\nfunction useFilterSorter(_ref5) {\n  var prefixCls = _ref5.prefixCls,\n      mergedColumns = _ref5.mergedColumns,\n      onSorterChange = _ref5.onSorterChange,\n      sortDirections = _ref5.sortDirections,\n      tableLocale = _ref5.tableLocale,\n      showSorterTooltip = _ref5.showSorterTooltip;\n\n  var _React$useState = React.useState(collectSortStates(mergedColumns, true)),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      sortStates = _React$useState2[0],\n      setSortStates = _React$useState2[1];\n\n  var mergedSorterStates = React.useMemo(function () {\n    var validate = true;\n    var collectedStates = collectSortStates(mergedColumns, false); // Return if not controlled\n\n    if (!collectedStates.length) {\n      return sortStates;\n    }\n\n    var validateStates = [];\n\n    function patchStates(state) {\n      if (validate) {\n        validateStates.push(state);\n      } else {\n        validateStates.push(_extends(_extends({}, state), {\n          sortOrder: null\n        }));\n      }\n    }\n\n    var multipleMode = null;\n    collectedStates.forEach(function (state) {\n      if (multipleMode === null) {\n        patchStates(state);\n\n        if (state.sortOrder) {\n          if (state.multiplePriority === false) {\n            validate = false;\n          } else {\n            multipleMode = true;\n          }\n        }\n      } else if (multipleMode && state.multiplePriority !== false) {\n        patchStates(state);\n      } else {\n        validate = false;\n        patchStates(state);\n      }\n    });\n    return validateStates;\n  }, [mergedColumns, sortStates]); // Get render columns title required props\n\n  var columnTitleSorterProps = React.useMemo(function () {\n    var sortColumns = mergedSorterStates.map(function (_ref6) {\n      var column = _ref6.column,\n          sortOrder = _ref6.sortOrder;\n      return {\n        column: column,\n        order: sortOrder\n      };\n    });\n    return {\n      sortColumns: sortColumns,\n      // Legacy\n      sortColumn: sortColumns[0] && sortColumns[0].column,\n      sortOrder: sortColumns[0] && sortColumns[0].order\n    };\n  }, [mergedSorterStates]);\n\n  function triggerSorter(sortState) {\n    var newSorterStates;\n\n    if (sortState.multiplePriority === false || !mergedSorterStates.length || mergedSorterStates[0].multiplePriority === false) {\n      newSorterStates = [sortState];\n    } else {\n      newSorterStates = [].concat(_toConsumableArray(mergedSorterStates.filter(function (_ref7) {\n        var key = _ref7.key;\n        return key !== sortState.key;\n      })), [sortState]);\n    }\n\n    setSortStates(newSorterStates);\n    onSorterChange(generateSorterInfo(newSorterStates), newSorterStates);\n  }\n\n  var transformColumns = function transformColumns(innerColumns) {\n    return injectSorter(prefixCls, innerColumns, mergedSorterStates, triggerSorter, sortDirections, tableLocale, showSorterTooltip);\n  };\n\n  var getSorters = function getSorters() {\n    return generateSorterInfo(mergedSorterStates);\n  };\n\n  return [transformColumns, mergedSorterStates, columnTitleSorterProps, getSorters];\n}"]},"metadata":{},"sourceType":"script"}